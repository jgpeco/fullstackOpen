{"version":3,"sources":["components/Note.js","components/Notification.js","services/notes.js","services/login.js","App.js","index.js"],"names":["Note","note","toggleImportance","label","important","className","content","onClick","Notification","message","baseUrl","token","getAll","axios","get","then","response","data","create","newObj","a","config","headers","Authorization","post","update","id","put","setToken","newToken","login","credentials","Footer","style","color","fontStyle","fontSize","display","justifyContent","margin","App","useState","notes","setNotes","newNote","setNewNote","showAll","setShowAll","errorMessage","setErrorMessage","username","setUsername","password","setPassword","user","setUser","useEffect","noteService","initialNotes","loggedUserJSON","window","localStorage","getItem","JSON","parse","addNote","event","preventDefault","noteObj","date","Date","toISOString","Math","random","returnedNote","concat","handleNoteChange","target","value","handleLogin","loginService","setItem","stringify","setTimeout","notesToShow","filter","onSubmit","type","name","onChange","removeItem","map","find","n","changedNote","catch","error","toggleImportanceOf","ReactDOM","render","document","getElementById"],"mappings":"iNAceA,EAZF,SAAC,GAA8B,IAA7BC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,iBACXC,EAAQF,EAAKG,UACb,qBAAuB,iBAE7B,OACI,qBAAIC,UAAU,OAAd,UACKJ,EAAKK,QACN,wBAAQC,QAASL,EAAjB,SAAoCC,QCGjCK,EAVM,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACnB,OAAgB,OAAZA,EAAyB,KAGzB,qBAAKJ,UAAU,QAAf,SACKI,K,gBCLPC,EAAU,aAEZC,EAAQ,KAyBG,GAAEC,OAnBF,WAEX,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiBpBC,OAdb,uCAAG,WAAMC,GAAN,iBAAAC,EAAA,6DACLC,EAAS,CACXC,QAAS,CAACC,cAAeZ,IAFlB,SAKYE,IAAMW,KAAKd,EAASS,EAAQE,GALxC,cAKLL,EALK,yBAMJA,EAASC,MANL,2CAAH,sDAcqBQ,OALlB,SAACC,EAAIP,GAEhB,OADgBN,IAAMc,IAAN,UAAajB,EAAb,YAAwBgB,GAAMP,GAC/BJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAGJW,SAvBxB,SAAAC,GACblB,EAAK,iBAAakB,KCCP,GAAEC,MALN,uCAAG,WAAMC,GAAN,eAAAX,EAAA,sEACaP,IAAMW,KAHjB,aAG+BO,GADjC,cACJf,EADI,yBAEHA,EAASC,MAFN,2CAAH,uDCGLe,EAAS,WAUb,OACE,sBAAKC,MAVa,CAClBC,MAAO,QACPC,UAAW,SACXC,SAAU,SACVC,QAAS,OACTC,eAAgB,SAChBC,OAAQ,UAIR,UACE,uBACA,wEA0KSC,EArKH,WAAO,IAAD,EACYC,mBAAS,IADrB,mBACPC,EADO,KACAC,EADA,OAEgBF,mBAAS,IAFzB,mBAEPG,EAFO,KAEEC,EAFF,OAGgBJ,oBAAS,GAHzB,mBAGPK,EAHO,KAGEC,EAHF,OAI0BN,mBAAS,MAJnC,mBAIPO,EAJO,KAIOC,EAJP,OAKkBR,mBAAS,IAL3B,mBAKPS,EALO,KAKGC,EALH,OAMkBV,mBAAS,IAN3B,mBAMPW,EANO,KAMGC,EANH,OAOUZ,mBAAS,MAPnB,mBAOPa,EAPO,KAODC,EAPC,KASdC,qBAAU,WACRC,EACG7C,SACAG,MAAK,SAAA2C,GACJf,EAASe,QAEZ,IAEHF,qBAAU,WACR,IAAMG,EAAiBC,OAAOC,aAAaC,QAAQ,qBACnD,GAAGH,EAAgB,CACjB,IAAML,EAAOS,KAAKC,MAAML,GACxBJ,EAAQD,GACRG,EAAY7B,SAAS0B,EAAK3C,UAE3B,IAGH,IAAMsD,EAAU,SAACC,GACfA,EAAMC,iBACN,IAAMC,EAAU,CACd9D,QAASsC,EACTyB,MAAM,IAAIC,MAAOC,cACjBnE,UAAWoE,KAAKC,SAAW,IAG7BhB,EACGvC,OAAOkD,GACPrD,MAAK,SAAA2D,GACJ/B,EAASD,EAAMiC,OAAOD,IACtB7B,EAAW,QAIX+B,EAAmB,SAACV,GACxBrB,EAAWqB,EAAMW,OAAOC,QAoBpBC,EAAW,uCAAG,WAAOb,GAAP,eAAA9C,EAAA,6DAClB8C,EAAMC,iBADY,kBAIGa,EAAalD,MAAM,CACpCoB,WAAUE,aALI,OAIVE,EAJU,OAQhBM,OAAOC,aAAaoB,QAClB,oBAAqBlB,KAAKmB,UAAU5B,IAEtCG,EAAY7B,SAAS0B,EAAK3C,OAC1B4C,EAAQD,GACRH,EAAY,IACZE,EAAY,IAdI,kDAgBhBJ,EAAgB,qBAChBkC,YAAW,WACTlC,EAAgB,QACf,KAnBa,0DAAH,sDA+BXmC,EAActC,EAChBJ,EACAA,EAAM2C,QAAO,SAAApF,GAAI,OAAIA,EAAKG,aAoC9B,OACE,gCACE,uCACA,cAAC,EAAD,CAAcK,QAASuC,IAEZ,OAATM,EAtCF,uBAAMgC,SAAUP,EAAhB,UACE,2CAEE,uBACEQ,KAAK,OACLT,MAAO5B,EACPsC,KAAK,WACLC,SAAU,gBAAGZ,EAAH,EAAGA,OAAH,OAAgB1B,EAAY0B,EAAOC,aAGjD,2CAEE,uBACES,KAAK,OACLT,MAAO1B,EACPoC,KAAK,WACLC,SAAU,gBAAGZ,EAAH,EAAGA,OAAH,OAAgBxB,EAAYwB,EAAOC,aAGjD,wBAAQS,KAAK,SAAb,sBAqBE,gCACA,8BAAIjC,EAAKkC,KAAT,aAjBJ,uBAAMF,SAAUrB,EAAhB,UACE,uBACEsB,KAAK,OACLT,MAAOlC,EACP6C,SAAUb,IACZ,wBAAQW,KAAK,SAAb,qBAcE,wBAAQhF,QAxDK,WACnBqD,OAAOC,aAAa6B,WAAW,qBAC/BjC,EAAY7B,SAAS,MACrB2B,EAAQ,MACRJ,EAAY,IACZE,EAAY,KAmDN,uBAGJ,8BACE,yBAAQ9C,QAAS,kBAAMwC,GAAYD,IAAnC,kBACQA,EAAU,YAAc,WAGlC,6BACGsC,EAAYO,KAAI,SAAC1F,GAAD,OACf,cAAC,EAAD,CAEEA,KAAMA,EACNC,iBAAkB,kBA7GD,SAACwB,GAC1B,IAAMzB,EAAOyC,EAAMkD,MAAK,SAAAC,GAAC,OAAIA,EAAEnE,KAAOA,KAChCoE,EAAW,2BAAO7F,GAAP,IAAaG,WAAYH,EAAKG,YAE/CqD,EACGhC,OAAOC,EAAIoE,GACX/E,MAAK,SAAA2D,GAAY,OAChB/B,EAASD,EAAMiD,KAAI,SAAA1F,GAAI,OAAIA,EAAKyB,KAAOA,EAAKzB,EAAOyE,SACpDqB,OAAM,SAAAC,GACL/C,EAAgB,SAAD,OACJhD,EAAKK,QADD,sCAGf6E,YAAW,kBAAMlC,EAAgB,QAAO,KACxCN,EAASD,EAAM2C,QAAO,SAAAQ,GAAC,OAAIA,EAAEnE,KAAOA,SAgGRuE,CAAmBhG,EAAKyB,MAF3CzB,EAAKyB,SAMhB,cAAC,EAAD,Q,MClLRwE,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.257f8baf.chunk.js","sourcesContent":["import React from 'react'\n\nconst Note = ({note, toggleImportance}) => {\n    const label = note.important\n        ? 'make not important' : 'make important'\n\n    return (\n        <li className='note'>\n            {note.content}\n            <button onClick={toggleImportance}>{label}</button>\n        </li>\n    )\n}\n\nexport default Note","import React from 'react'\n\nconst Notification = ({message}) => {\n    if (message === null) return null\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/notes'\n\nlet token = null\n\nconst setToken = newToken => {\n    token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = async newObj => {\n    const config = {\n        headers: {Authorization: token},\n    }\n\n    const response = await axios.post(baseUrl, newObj, config)\n    return response.data\n}\n\nconst update = (id, newObj) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObj)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, setToken }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n    const response = await axios.post(baseUrl, credentials)\r\n    return response.data\r\n}\r\n\r\nexport default { login }","import React, {useState, useEffect} from 'react'\nimport Note from './components/Note'\nimport Notification from './components/Notification'\nimport noteService from './services/notes'\nimport loginService from './services/login'\n\nconst Footer = () => {\n  const footerStyle = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: '1.2rem',\n    display: 'flex',\n    justifyContent: 'center',\n    margin: '1.5rem'\n  }\n\n  return (\n    <div style={footerStyle}>\n      <br/>\n      <em>Note app, Department of Pecosville</em>\n    </div>\n  )\n}\n\nconst App = () => {\n    const [notes, setNotes] = useState([])\n    const [newNote, setNewNote] = useState('')\n    const [showAll, setShowAll] = useState(true)\n    const [errorMessage, setErrorMessage] = useState(null)\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [user, setUser] = useState(null)\n\n    useEffect(() => {\n      noteService\n        .getAll()\n        .then(initialNotes => {\n          setNotes(initialNotes)\n        })\n    }, [])\n\n    useEffect(() => {\n      const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser')\n      if(loggedUserJSON) {\n        const user = JSON.parse(loggedUserJSON)\n        setUser(user)\n        noteService.setToken(user.token)\n      }\n    }, [])\n\n\n    const addNote = (event) => {\n      event.preventDefault()\n      const noteObj = {\n        content: newNote,\n        date: new Date().toISOString(),\n        important: Math.random() < 0.5,\n      }\n\n      noteService\n        .create(noteObj)\n        .then(returnedNote => {\n          setNotes(notes.concat(returnedNote))\n          setNewNote('')\n        })\n    }\n\n    const handleNoteChange = (event) => {\n      setNewNote(event.target.value)\n    }\n\n    const toggleImportanceOf = (id) => {\n      const note = notes.find(n => n.id === id)\n      const changedNote = {...note, important: !note.important}\n\n      noteService\n        .update(id, changedNote)\n        .then(returnedNote =>\n          setNotes(notes.map(note => note.id !== id ? note : returnedNote)))\n        .catch(error => {\n          setErrorMessage(\n            `Note '${note.content}' was already removed from server`\n          )\n          setTimeout(() => setErrorMessage(null), 5000)\n          setNotes(notes.filter(n => n.id !== id))\n        })\n    }\n\n    const handleLogin = async (event) => {\n      event.preventDefault()\n      \n      try {\n        const user = await loginService.login({\n          username, password,\n        })\n\n        window.localStorage.setItem(\n          'loggedNoteappUser', JSON.stringify(user)\n        )\n        noteService.setToken(user.token)\n        setUser(user)\n        setUsername('')\n        setPassword('')\n      } catch(exception) {\n        setErrorMessage('Wrong Credentials')\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 4000)\n      }\n    }\n\n    const handleLogout = () => {\n      window.localStorage.removeItem('loggedNoteappUser')\n      noteService.setToken(null)\n      setUser(null)\n      setUsername('')\n      setPassword('')\n    }\n\n    const notesToShow = showAll\n      ? notes\n      : notes.filter(note => note.important)\n\n      const loginForm = () => (\n        <form onSubmit={handleLogin}>\n          <div>\n            username\n            <input \n              type=\"text\"\n              value={username}\n              name='Username'\n              onChange={({ target }) => setUsername(target.value)}\n            />\n          </div>\n          <div>\n            password\n            <input \n              type=\"text\"\n              value={password}\n              name='Password'\n              onChange={({ target }) => setPassword(target.value)}\n            />\n          </div>\n          <button type='submit'>Login</button>\n        </form>\n      )\n\n      const noteForm = () => (\n        <form onSubmit={addNote}>\n          <input \n            type=\"text\" \n            value={newNote}\n            onChange={handleNoteChange} />\n          <button type='submit'>Save</button>\n        </form>\n      )\n\n    return (\n      <div>\n        <h1>Notes</h1>\n        <Notification message={errorMessage} />\n        {\n          user === null\n          ? loginForm()\n          : <div>\n            <p>{user.name} logged</p>\n            {noteForm()}\n            <button onClick={handleLogout}>Logout</button>\n          </div>\n        }\n        <div>\n          <button onClick={() => setShowAll(!showAll)}>\n            show {showAll ? 'important' : 'all'}\n          </button>\n        </div>\n        <ul>\n          {notesToShow.map((note) =>\n            <Note \n              key={note.id} \n              note={note} \n              toggleImportance={() => toggleImportanceOf(note.id)}\n            />\n          )}\n        </ul>\n        <Footer />\n      </div>\n    )\n  }\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n \n\n\n\n\n\n"],"sourceRoot":""}